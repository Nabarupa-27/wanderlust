<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top shadow-sm">
  <div class="container">

    <!-- Brand -->
    <a class="navbar-brand fw-bold text-primary" href="/listings">
      <i class="fa-solid fa-compass"></i> Wanderlust
    </a>

    <!-- Mobile toggle -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">

      <!-- LEFT -->
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <% if (currentUser) { %>
          <li class="nav-item">
            <a class="nav-link fw-semibold" href="/listings/new">
              <i class="fa-solid fa-plus"></i> Add Listing
            </a>
          </li>
        <% } %>
      </ul>

      <!-- CENTER SEARCH -->
      <form
        class="navbar-search d-none d-lg-flex"
        action="/listings"
        method="GET"
      >
        <input
          type="text"
          name="search"
          placeholder="Search destinations"
          class="search-input"
          value="<%= typeof search !== 'undefined' ? search : '' %>"
        />
        <button type="submit" class="search-btn">
          <i class="fa-solid fa-magnifying-glass"></i>
        </button>
      </form>

      <!-- RIGHT -->
      <ul class="navbar-nav ms-auto align-items-center gap-2">

        <% if (currentUser) { %>
          <!-- Wishlist -->
          <li class="nav-item">
            <a class="btn btn-outline-danger btn-sm" href="/wishlist">
              ❤️ Wishlist
            </a>
          </li>

          <!-- Host -->
          <li class="nav-item">
            <a class="btn btn-outline-secondary btn-sm" href="/listings/new">
              Airbnb your home
            </a>
          </li>

          <!-- User -->
          <li class="nav-item text-muted small">
            Hi, <strong><%= currentUser.username %></strong>
          </li>

          <!-- Logout -->
          <li class="nav-item">
            <a class="btn btn-outline-danger btn-sm" href="/logout">
              Logout
            </a>
          </li>

        <% } else { %>
          <!-- Guest -->
          <li class="nav-item">
            <a class="btn btn-outline-primary btn-sm" href="/login">
              Login
            </a>
          </li>
          <li class="nav-item">
            <a class="btn btn-primary btn-sm" href="/signup">
              Sign up
            </a>
          </li>
        <% } %>

      </ul>

    </div>
  </div>
</nav>
